#!/bin/sh
# Pre-commit helper mirroring the CI workflow. Fails if any step does not pass.
set -e

# Ensure required dependencies are installed
pip install poetry
poetry install

# Run linters and tests using Poetry
poetry run flake8 .
poetry run mypy loopbloom
poetry run pytest --cov=loopbloom --cov-fail-under=80 -q
